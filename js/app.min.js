(()=>{"use strict";function e(e,t,n=500){if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.style.removeProperty("display");let i=window.getComputedStyle(e).display;"none"===i&&(i=`${t}`),e.style.display=i;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=n+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),n)}}function t(t,n="block",i=500){return"none"===window.getComputedStyle(t).display?e(t,n,i):function(e,t=500){e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))}(t,i)}function n(e,t="block"){var n=.1;e.style.opacity=n,e.style.display=`${t}`;var i=setInterval((function(){n>=1&&clearInterval(i),e.style.opacity=n,n+=.1*n}),15)}function i(e,t,n){const i=e.find((e=>e.checked)),{tarrif:o}=i.dataset,s=function(e){for(var t=(e+"").split("."),n=t[0],i=n.length,o="",s=i-1;s>=0;)o=n.charAt(s)+o,(i-s)%3==0&&s>0&&(o=" "+o),--s;return t.length>1&&(o+="."+t[1]),o}(""+n*o);t.textContent=`${s} ₽`}var o,s;new class{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((e=>{const t=e.dataset.da.trim().split(","),n={};n.element=e,n.parent=e.parentNode,n.destination=document.querySelector(`${t[0].trim()}`),n.breakpoint=t[1]?t[1].trim():"767",n.place=t[2]?t[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,t,n)=>n.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),n=window.matchMedia(t[0]),i=t[1],o=this.оbjects.filter((({breakpoint:e})=>e===i));n.addEventListener("change",(()=>{this.mediaHandler(n,o)})),this.mediaHandler(n,o)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):t.forEach((({parent:e,element:t,index:n})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,n)}))}moveTo(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.append(t):"first"!==e?n.children[e].before(t):n.prepend(t)}moveBack(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint)):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint))}}("max").init(),function(){const e=document.querySelectorAll("._open-btn");if(e)for(let t=0;t<e.length;t++){const i=e[t],{mode:o}=i.dataset;i.addEventListener("click",(()=>{if("block"===o){const e=i.nextElementSibling,{display:t}=e.dataset||"block";n(e,t)}else"text"===o&&i.closest("._open-parent").classList.add("_opened");i.remove()}))}}(),function(){if(document.querySelector(".photo")&&new Swiper(".photo__slider",{loop:!0,slidesPerView:3,speed:650,spaceBetween:32,pagination:{el:".photo__pagination",type:"bullets",clickable:!0},navigation:{nextEl:".photo__next",prevEl:".photo__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:5},768:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:32}}}),document.querySelector(".stages")){const t={breakpoint:"1200",selector:".stages__slider",slider:null,init:!1,config:{loop:!0,slidesPerView:3,speed:650,spaceBetween:32,pagination:{el:".stages__pagination",type:"bullets",clickable:!0},navigation:{nextEl:".stages__next",prevEl:".stages__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:5},768:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:32}}}};e(t),window.addEventListener("resize",(()=>e(t)))}if(document.querySelector(".options")){const t={breakpoint:"1200",selector:".options__slider",slider:null,init:!1,config:{loop:!0,slidesPerView:3,speed:650,spaceBetween:32,pagination:{el:".options__pagination",type:"bullets",clickable:!0},navigation:{nextEl:".options__next",prevEl:".options__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:5},768:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:32}}}};e(t),window.addEventListener("resize",(()=>e(t)))}function e(e){const t=window.matchMedia(`(max-width: ${e.breakpoint}px)`).matches;if(t&&!e.init){const t=new Swiper(e.selector,e.config);e.init=!0,e.slider=t}else!t&&e.slider&&(e.slider.destroy(),e.slider=null,e.init=!1)}document.querySelector(".feedback")&&new Swiper(".feedback__slider",{slidesPerView:3,loop:!0,spaceBetween:30,autoHeight:!0,speed:650,pagination:{el:".feedback__pagination",type:"bullets",clickable:!0},navigation:{nextEl:".feedback__next",prevEl:".feedback__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:5},768:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:15,autoHeight:!0}}}),document.querySelector(".technique")&&new Swiper(".technique__slider",{loop:!0,speed:300,autoHeight:!0,pagination:{el:".technique__pagination",type:"bullets",clickable:!0},navigation:{nextEl:".technique__next",prevEl:".technique__prev"}})}(),function(){let e=document.querySelector(".map");function t(){"undefined"!=typeof ymaps&&(document.getElementById("ymap"),ymaps.ready((function(){var e=new ymaps.Map("ymap",{center:[55.430393702307846,37.77547029209066],zoom:11},{searchControlProvider:"yandex#search",balloonPanelMaxMapArea:0}),t=new ymaps.ObjectManager({clusterize:!0,gridSize:64,clusterDisableClickZoom:!1});t.objects.options.set("preset","islands#blueWaterParkCircleIcon"),t.clusters.options.set("preset","islands#invertedBlueClusterIcons"),e.geoObjects.add(t),jQuery((function(e){e.ajax({url:"/data_domodedovo.json"}).done((function(e){t.add(e)}))}))})))}function n(){let i=e.getBoundingClientRect().top,o=window.pageYOffset,s=i+o;o+window.innerHeight>s&&(function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",n))}window.addEventListener("scroll",n),n()}(),function(){function e(e,t){e.setAttribute("data-state","")}if(document.querySelectorAll("._select").length){const n=document.querySelectorAll("._select__title"),o=document.querySelectorAll("._select__label"),s=document.querySelectorAll("._select__backdrop"),r=document.querySelectorAll("._select__input[checked]");window.addEventListener("DOMContentLoaded",(()=>{for(const e of r){const n=e.nextElementSibling,i=t(n),{title:o}=i;o.innerHTML=n.innerHTML}}));for(let i=0;i<n.length;i++){const o=n[i];o.addEventListener("click",(()=>{const n=t(o),{select:i}=n,{content:s}=n;var r;"active"===(r=i).getAttribute("data-state")?e(r):function(e,t){e.setAttribute("data-state","active"),window.getComputedStyle(e).height.replace("px","")}(r)}))}for(let n=0;n<o.length;n++){const s=o[n];s.addEventListener("click",(()=>{const n=t(s),{select:o}=n,{content:r}=n,{title:l}=n;if(l.innerHTML=s.innerHTML,e(o),o.classList.contains("cost__options")){const e=Array.from(o.querySelectorAll("._select__input")),t=document.querySelector(".right-cost__value"),n=document.querySelector(".cost__input");s.previousElementSibling.checked=!0,i(e,t,+n.value)}}))}for(let n=0;n<s.length;n++){const i=s[n];i.addEventListener("click",(()=>{const n=t(i),{select:o}=n,{content:s}=n;e(o)}))}}function t(e){const t=e.closest("._select");return{select:t,content:t.querySelector("._select__content"),title:t.querySelector("._select__title")}}}(),function(){const e=document.querySelector(".cost");if(e){const o=e.querySelector(".cost__plus"),s=e.querySelector(".cost__minus"),r=e.querySelector(".cost__input"),l=e.querySelector(".right-cost__value"),c=e.querySelector(".cost__inner"),a=Array.from(e.querySelectorAll(".cost__options ._select__input")),d=e.querySelector(".cost__bar input[type=range]");d.addEventListener("input",(()=>{const e=t(d.value);r.value=e,n(c,e,r),i(a,l,e)})),o.addEventListener("click",(()=>{const e=t((+r.value||0)+1);r.value=e,n(c,e,r),d.value=e,i(a,l,e)})),s.addEventListener("click",(()=>{const e=t((+r.value||0)-1);r.value=e,n(c,e,r),d.value=e,i(a,l,e)})),r.addEventListener("input",(()=>{const e=t(+r.value||0);r.value=e,n(c,e,r),d.value=e,i(a,l,e)}))}function t(e){return e>250?e=250:e<0&&(e=0),e}function n(e,t,n){return e.style.width=t/n.max*100+"%",0}}(),function(){const n=document.querySelector(".header__burger");if(n){const s=document.querySelector(".header__wrapper");n.addEventListener("click",(()=>{n.classList.toggle("_active"),s.classList.toggle("_active"),document.body.classList.toggle("_lock")}))}const i=Array.from(document.querySelectorAll("._nav-trigger"));if(i){let r=window.matchMedia("(max-width: 991.98px)").matches;function l(t,n){let i=n.every((e=>e.classList.contains("_nav-trigger_active")));if(t&&!i){for(let e=0;e<n.length;e++)n[e].addEventListener("click",o);"_nav-trigger_active",n.forEach((e=>e.classList.add("_nav-trigger_active")))}if(!t&&i){for(let t=0;t<n.length;t++){const i=n[t];e(i.nextElementSibling),i.removeEventListener("click",o)}n.forEach((e=>e.classList.remove("_nav-trigger_active")))}}l(r,i),window.addEventListener("resize",(()=>{r=window.matchMedia("(max-width: 991.98px)").matches,l(r,i)}))}function o(){t(this.nextElementSibling)}}(),o=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(s=new Image).onload=s.onerror=function(){o(2==s.height)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(){const e=document.querySelector(".middle-footer__title");e&&e.addEventListener("click",(()=>{e.classList.toggle("_active"),t(e.nextElementSibling,"grid")}));const n=document.querySelectorAll(".item-options__uptitle");n.length>0&&(window.onload=()=>{let e=0;n.forEach((t=>{e=Math.max(t.clientHeight,e)})),e+=10,n.forEach((t=>{t.style.marginBottom=e-t.clientHeight+"px"}))});const i=document.querySelector(".additionally__title");if(i){const e=document.querySelector(".additionally__grid");i.addEventListener("click",(()=>{t(e,"grid"),i.classList.toggle("_active")}))}}(),function(){const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let i=!0;const o=document.querySelector(".header__burger"),s=document.querySelector(".header__wrapper");if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){s.classList.remove("_active"),o.classList.remove("_active");const t=n.getAttribute("href").replace("#","");l(document.getElementById(t)),e.preventDefault()}))}const r=document.querySelectorAll(".close-popup");if(r.length>0)for(let e=0;e<r.length;e++){const t=r[e];t.addEventListener("click",(function(e){c(t.closest(".popup")),e.preventDefault()}))}function l(e){if(e&&i){const o=document.querySelector(".popup._open");o?c(o,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++)n[t].style.paddingRight=e;t.style.paddingRight=e,t.classList.add("_lock"),i=!1,setTimeout((function(){i=!0}),800)}(),e.classList.add("_open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||c(e.target.closest(".popup"))}))}}function c(e,o=!0){i&&(e.classList.remove("_open"),o&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("_lock")}),800),i=!1,setTimeout((function(){i=!0}),800)))}document.addEventListener("keydown",(function(e){27===e.which&&c(document.querySelector(".popup._open"))}))}(),function(){const e=document.querySelectorAll(".item-options__hint");e.length>0&&e.forEach((e=>{e.addEventListener("click",(()=>{t(e.closest(".item-options").querySelector(".item-options__hint-content"))}))}))}()})();